# 設計メモ

* モジュール設計か単一インターフェイス設計か
  * どちらか一方が良いのではなく、一つのプロジェクトの中でも部分的に使い分けるべき。

* パイプ処理について
  * 外部→外部 Commandを用いると簡単
  * 外部→内部 不要。パイプされたストリームは無視。
  * 内部→内部 不要。パイプされたストリームは無視。
  * 内部→外部 必要。ただし、内部コマンドの出力文字列が短いため、rust内で直接Stringを外部コマンドへ渡す。

* CtxをArcにする必要があるかどうか
  * 内部コマンドのみがCtxを書き換える。
  * 内部コマンドは逐次実行する設計とした。
  * したがって、CtxをArcにする必要はない。